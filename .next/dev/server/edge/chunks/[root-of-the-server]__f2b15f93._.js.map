{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\nimport { getSessionCookie } from \"better-auth/cookies\"\n\n// Routes that require authentication\nconst protectedRoutes = [\"/portfolio\", \"/deal-flow\", \"/reports\", \"/analytics\", \"/founder\", \"/deal-room\", \"/accelerator\"]\n\n// Routes that should redirect to dashboard if already authenticated\nconst authRoutes = [\"/sign-in\", \"/sign-up\"]\n\n// Routes that are accessible during onboarding\nconst onboardingRoutes = [\"/onboarding\"]\n\nexport async function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl\n  const sessionCookie = getSessionCookie(request)\n\n  // Check if route is protected\n  const isProtectedRoute = protectedRoutes.some((route) => pathname.startsWith(route))\n  const isAuthRoute = authRoutes.includes(pathname)\n  const isOnboardingRoute = onboardingRoutes.includes(pathname)\n\n  // If accessing onboarding route without session, redirect to sign in\n  if (isOnboardingRoute && !sessionCookie) {\n    const signInUrl = new URL(\"/sign-in\", request.url)\n    signInUrl.searchParams.set(\"redirect\", \"/onboarding\")\n    return NextResponse.redirect(signInUrl)\n  }\n\n  // If accessing protected route without session, redirect to sign in\n  if (isProtectedRoute && !sessionCookie) {\n    const signInUrl = new URL(\"/sign-in\", request.url)\n    signInUrl.searchParams.set(\"redirect\", pathname)\n    return NextResponse.redirect(signInUrl)\n  }\n\n  // If accessing auth routes with session, redirect to onboarding\n  // (The onboarding page will check if onboarding is completed and redirect accordingly)\n  if (isAuthRoute && sessionCookie) {\n    return NextResponse.redirect(new URL(\"/onboarding\", request.url))\n  }\n\n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - public files (public folder)\n     */\n    \"/((?!api|_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\",\n  ],\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;;;AAEA,qCAAqC;AACrC,MAAM,kBAAkB;IAAC;IAAc;IAAc;IAAY;IAAc;IAAY;IAAc;CAAe;AAExH,oEAAoE;AACpE,MAAM,aAAa;IAAC;IAAY;CAAW;AAE3C,+CAA+C;AAC/C,MAAM,mBAAmB;IAAC;CAAc;AAEjC,eAAe,WAAW,OAAoB;IACnD,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IACpC,MAAM,gBAAgB,IAAA,4ZAAgB,EAAC;IAEvC,8BAA8B;IAC9B,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAAU,SAAS,UAAU,CAAC;IAC7E,MAAM,cAAc,WAAW,QAAQ,CAAC;IACxC,MAAM,oBAAoB,iBAAiB,QAAQ,CAAC;IAEpD,qEAAqE;IACrE,IAAI,qBAAqB,CAAC,eAAe;QACvC,MAAM,YAAY,IAAI,IAAI,YAAY,QAAQ,GAAG;QACjD,UAAU,YAAY,CAAC,GAAG,CAAC,YAAY;QACvC,OAAO,gUAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,oEAAoE;IACpE,IAAI,oBAAoB,CAAC,eAAe;QACtC,MAAM,YAAY,IAAI,IAAI,YAAY,QAAQ,GAAG;QACjD,UAAU,YAAY,CAAC,GAAG,CAAC,YAAY;QACvC,OAAO,gUAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,gEAAgE;IAChE,uFAAuF;IACvF,IAAI,eAAe,eAAe;QAChC,OAAO,gUAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,eAAe,QAAQ,GAAG;IACjE;IAEA,OAAO,gUAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;;KAOC,GACD;KACD;AACH"}}]
}
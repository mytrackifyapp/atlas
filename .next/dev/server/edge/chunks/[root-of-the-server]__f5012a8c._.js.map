{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'timers')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`timers`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'crypto')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`crypto`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'fs')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`fs`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,EAAE,CAAC"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'http')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`http`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,IAAI,CAAC"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'stream')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`stream`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'dns')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`dns`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,GAAG,CAAC"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'os')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`os`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,EAAE,CAAC"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'process')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`process`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,OAAO,CAAC"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'zlib')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`zlib`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,IAAI,CAAC"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'net')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`net`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,GAAG,CAAC"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'tls')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`tls`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,GAAG,CAAC"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'child_process')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`child_process`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,aAAa,CAAC"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/auth.ts"],"sourcesContent":["import { betterAuth } from \"better-auth\"\nimport { MongoClient } from \"mongodb\"\nimport { mongodbAdapter } from \"better-auth/adapters/mongodb\"\nimport { nextCookies } from \"better-auth/next-js\"\n\n// MongoDB connection\nconst connectionString = process.env.DATABASE_URL || \"mongodb://localhost:27017/trackify-ventures\"\nconst client = new MongoClient(connectionString)\n\n// Connect to MongoDB (will be called once)\nif (!client.topology?.isConnected()) {\n  client.connect().catch(console.error)\n}\n\nconst db = client.db()\n\nexport const auth = betterAuth({\n  database: mongodbAdapter(db, {\n    client,\n  }),\n  emailAndPassword: {\n    enabled: true,\n    requireEmailVerification: false, // Set to true if you want email verification\n  },\n  user: {\n    additionalFields: {\n      role: {\n        type: \"string\",\n        required: false,\n        defaultValue: null,\n        input: false, // Don't allow user to set role during signup\n      },\n      onboardingCompleted: {\n        type: \"boolean\",\n        required: false,\n        defaultValue: false,\n        input: false,\n      },\n    },\n  },\n  plugins: [nextCookies()],\n})\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AAAA;AACA;;;;;AAEA,qBAAqB;AACrB,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY,IAAI;AACrD,MAAM,SAAS,IAAI,kNAAW,CAAC;AAE/B,2CAA2C;AAC3C,IAAI,CAAC,OAAO,QAAQ,EAAE,eAAe;IACnC,OAAO,OAAO,GAAG,KAAK,CAAC,QAAQ,KAAK;AACtC;AAEA,MAAM,KAAK,OAAO,EAAE;AAEb,MAAM,OAAO,IAAA,kYAAU,EAAC;IAC7B,UAAU,IAAA,8aAAc,EAAC,IAAI;QAC3B;IACF;IACA,kBAAkB;QAChB,SAAS;QACT,0BAA0B;IAC5B;IACA,MAAM;QACJ,kBAAkB;YAChB,MAAM;gBACJ,MAAM;gBACN,UAAU;gBACV,cAAc;gBACd,OAAO;YACT;YACA,qBAAqB;gBACnB,MAAM;gBACN,UAAU;gBACV,cAAc;gBACd,OAAO;YACT;QACF;IACF;IACA,SAAS;QAAC,IAAA,iZAAW;KAAG;AAC1B"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/db.ts"],"sourcesContent":["import { MongoClient, Db } from \"mongodb\"\n\nconst connectionString = process.env.DATABASE_URL || \"mongodb://localhost:27017/trackify-ventures\"\n\nlet client: MongoClient | null = null\nlet db: Db | null = null\n\nexport async function getDatabase(): Promise<Db> {\n  if (db) {\n    return db\n  }\n\n  if (!client) {\n    client = new MongoClient(connectionString)\n    await client.connect()\n  }\n\n  db = client.db()\n  return db\n}\n\n// For cleanup if needed\nexport async function closeDatabase() {\n  if (client) {\n    await client.close()\n    client = null\n    db = null\n  }\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY,IAAI;AAErD,IAAI,SAA6B;AACjC,IAAI,KAAgB;AAEb,eAAe;IACpB,IAAI,IAAI;QACN,OAAO;IACT;IAEA,IAAI,CAAC,QAAQ;QACX,SAAS,IAAI,kNAAW,CAAC;QACzB,MAAM,OAAO,OAAO;IACtB;IAEA,KAAK,OAAO,EAAE;IACd,OAAO;AACT;AAGO,eAAe;IACpB,IAAI,QAAQ;QACV,MAAM,OAAO,KAAK;QAClB,SAAS;QACT,KAAK;IACP;AACF"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\nimport { getSessionCookie } from \"better-auth/cookies\"\nimport { auth } from \"@/lib/auth\"\nimport { getDatabase } from \"@/lib/db\"\n\n// Routes that require authentication\nconst protectedRoutes = [\"/portfolio\", \"/deal-flow\", \"/reports\", \"/analytics\", \"/founder\", \"/deal-room\", \"/accelerator\"]\n\n// Routes that should redirect to dashboard if already authenticated\nconst authRoutes = [\"/sign-in\", \"/sign-up\"]\n\n// Routes that are accessible during onboarding\nconst onboardingRoutes = [\"/onboarding\"]\n\nexport async function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl\n  const sessionCookie = getSessionCookie(request)\n\n  // Check if route is protected\n  const isProtectedRoute = protectedRoutes.some((route) => pathname.startsWith(route))\n  const isAuthRoute = authRoutes.includes(pathname)\n  const isOnboardingRoute = onboardingRoutes.includes(pathname)\n\n  // If accessing protected route without session, redirect to sign in\n  if (isProtectedRoute && !sessionCookie) {\n    const signInUrl = new URL(\"/sign-in\", request.url)\n    signInUrl.searchParams.set(\"redirect\", pathname)\n    return NextResponse.redirect(signInUrl)\n  }\n\n  // If accessing auth routes with session, check onboarding status\n  if (isAuthRoute && sessionCookie) {\n    try {\n      // Get session to check onboarding status\n      const session = await auth.api.getSession({\n        headers: request.headers,\n      })\n\n      if (session) {\n        const db = await getDatabase()\n        const user = await db.collection(\"user\").findOne({ id: session.user.id })\n\n        // If onboarding not completed, redirect to onboarding\n        if (!user?.onboardingCompleted) {\n          return NextResponse.redirect(new URL(\"/onboarding\", request.url))\n        }\n\n        // If onboarding completed, redirect based on role\n        if (user?.role === \"founder\") {\n          return NextResponse.redirect(new URL(\"/founder\", request.url))\n        }\n        return NextResponse.redirect(new URL(\"/portfolio\", request.url))\n      }\n    } catch (error) {\n      // If error, just redirect to portfolio\n      return NextResponse.redirect(new URL(\"/portfolio\", request.url))\n    }\n  }\n\n  // If accessing protected route with session, check onboarding\n  if (isProtectedRoute && sessionCookie && !isOnboardingRoute) {\n    try {\n      const session = await auth.api.getSession({\n        headers: request.headers,\n      })\n\n      if (session) {\n        const db = await getDatabase()\n        const user = await db.collection(\"user\").findOne({ id: session.user.id })\n\n        // If onboarding not completed, redirect to onboarding\n        if (!user?.onboardingCompleted) {\n          return NextResponse.redirect(new URL(\"/onboarding\", request.url))\n        }\n      }\n    } catch (error) {\n      // Continue if error\n    }\n  }\n\n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - public files (public folder)\n     */\n    \"/((?!api|_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\",\n  ],\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AACA;AACA;;;;;AAEA,qCAAqC;AACrC,MAAM,kBAAkB;IAAC;IAAc;IAAc;IAAY;IAAc;IAAY;IAAc;CAAe;AAExH,oEAAoE;AACpE,MAAM,aAAa;IAAC;IAAY;CAAW;AAE3C,+CAA+C;AAC/C,MAAM,mBAAmB;IAAC;CAAc;AAEjC,eAAe,WAAW,OAAoB;IACnD,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IACpC,MAAM,gBAAgB,IAAA,4ZAAgB,EAAC;IAEvC,8BAA8B;IAC9B,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAAU,SAAS,UAAU,CAAC;IAC7E,MAAM,cAAc,WAAW,QAAQ,CAAC;IACxC,MAAM,oBAAoB,iBAAiB,QAAQ,CAAC;IAEpD,oEAAoE;IACpE,IAAI,oBAAoB,CAAC,eAAe;QACtC,MAAM,YAAY,IAAI,IAAI,YAAY,QAAQ,GAAG;QACjD,UAAU,YAAY,CAAC,GAAG,CAAC,YAAY;QACvC,OAAO,gUAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,iEAAiE;IACjE,IAAI,eAAe,eAAe;QAChC,IAAI;YACF,yCAAyC;YACzC,MAAM,UAAU,MAAM,2HAAI,CAAC,GAAG,CAAC,UAAU,CAAC;gBACxC,SAAS,QAAQ,OAAO;YAC1B;YAEA,IAAI,SAAS;gBACX,MAAM,KAAK,MAAM,IAAA,gIAAW;gBAC5B,MAAM,OAAO,MAAM,GAAG,UAAU,CAAC,QAAQ,OAAO,CAAC;oBAAE,IAAI,QAAQ,IAAI,CAAC,EAAE;gBAAC;gBAEvE,sDAAsD;gBACtD,IAAI,CAAC,MAAM,qBAAqB;oBAC9B,OAAO,gUAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,eAAe,QAAQ,GAAG;gBACjE;gBAEA,kDAAkD;gBAClD,IAAI,MAAM,SAAS,WAAW;oBAC5B,OAAO,gUAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,YAAY,QAAQ,GAAG;gBAC9D;gBACA,OAAO,gUAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;YAChE;QACF,EAAE,OAAO,OAAO;YACd,uCAAuC;YACvC,OAAO,gUAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;QAChE;IACF;IAEA,8DAA8D;IAC9D,IAAI,oBAAoB,iBAAiB,CAAC,mBAAmB;QAC3D,IAAI;YACF,MAAM,UAAU,MAAM,2HAAI,CAAC,GAAG,CAAC,UAAU,CAAC;gBACxC,SAAS,QAAQ,OAAO;YAC1B;YAEA,IAAI,SAAS;gBACX,MAAM,KAAK,MAAM,IAAA,gIAAW;gBAC5B,MAAM,OAAO,MAAM,GAAG,UAAU,CAAC,QAAQ,OAAO,CAAC;oBAAE,IAAI,QAAQ,IAAI,CAAC,EAAE;gBAAC;gBAEvE,sDAAsD;gBACtD,IAAI,CAAC,MAAM,qBAAqB;oBAC9B,OAAO,gUAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,eAAe,QAAQ,GAAG;gBACjE;YACF;QACF,EAAE,OAAO,OAAO;QACd,oBAAoB;QACtB;IACF;IAEA,OAAO,gUAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;;KAOC,GACD;KACD;AACH"}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/ekaygabriel/Downloads/trackify-ventures-ui/proxy.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\nimport { getSessionCookie } from \"better-auth/cookies\"\n\n// Routes that require authentication\nconst protectedRoutes = [\"/dashboard\", \"/portfolio\", \"/deal-flow\", \"/reports\", \"/analytics\", \"/founder\", \"/deal-room\", \"/accelerator\", \"/admin\"]\n\n// Routes that should redirect to dashboard if already authenticated\nconst authRoutes = [\"/sign-in\", \"/sign-up\"]\n\n// Routes that are accessible during onboarding\nconst onboardingRoutes = [\"/onboarding\"]\n\nexport async function proxy(request: NextRequest) {\n  const { pathname } = request.nextUrl\n  const sessionCookie = getSessionCookie(request)\n\n  // Check if route is protected\n  const isProtectedRoute = protectedRoutes.some((route) => pathname.startsWith(route))\n  const isAuthRoute = authRoutes.includes(pathname)\n  const isOnboardingRoute = onboardingRoutes.includes(pathname)\n\n  // If accessing protected route without session, redirect to sign in\n  if (isProtectedRoute && !sessionCookie) {\n    const signInUrl = new URL(\"/sign-in\", request.url)\n    signInUrl.searchParams.set(\"redirect\", pathname)\n    return NextResponse.redirect(signInUrl)\n  }\n\n  // If accessing onboarding route without session, redirect to sign in\n  if (isOnboardingRoute && !sessionCookie) {\n    const signInUrl = new URL(\"/sign-in\", request.url)\n    signInUrl.searchParams.set(\"redirect\", \"/onboarding\")\n    return NextResponse.redirect(signInUrl)\n  }\n\n  // If accessing auth routes with session, let the page handle the redirect\n  // Don't redirect here to avoid loops - let sign-in/sign-up pages handle it\n\n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - public files (public folder)\n     */\n    \"/((?!api|_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\",\n  ],\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,qCAAqC;AACrC,MAAM,kBAAkB;IAAC;IAAc;IAAc;IAAc;IAAY;IAAc;IAAY;IAAc;IAAgB;CAAS;AAEhJ,oEAAoE;AACpE,MAAM,aAAa;IAAC;IAAY;CAAW;AAE3C,+CAA+C;AAC/C,MAAM,mBAAmB;IAAC;CAAc;AAEjC,eAAe,MAAM,OAAoB;IAC9C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IACpC,MAAM,gBAAgB,IAAA,oZAAgB,EAAC;IAEvC,8BAA8B;IAC9B,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAAU,SAAS,UAAU,CAAC;IAC7E,MAAM,cAAc,WAAW,QAAQ,CAAC;IACxC,MAAM,oBAAoB,iBAAiB,QAAQ,CAAC;IAEpD,oEAAoE;IACpE,IAAI,oBAAoB,CAAC,eAAe;QACtC,MAAM,YAAY,IAAI,IAAI,YAAY,QAAQ,GAAG;QACjD,UAAU,YAAY,CAAC,GAAG,CAAC,YAAY;QACvC,OAAO,8QAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,qEAAqE;IACrE,IAAI,qBAAqB,CAAC,eAAe;QACvC,MAAM,YAAY,IAAI,IAAI,YAAY,QAAQ,GAAG;QACjD,UAAU,YAAY,CAAC,GAAG,CAAC,YAAY;QACvC,OAAO,8QAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,0EAA0E;IAC1E,2EAA2E;IAE3E,OAAO,8QAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;;KAOC,GACD;KACD;AACH"}}]
}